<!DOCTYPE html>
<!--
To change this license header, choose License Headers in Project Properties.
To change this template file, choose Tools | Templates
and open the template in the editor.
-->
<html>
    <head>
        <title>TODO supply a title</title>
        <meta charset="windows-1252">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            .container {
                background-color: black;
                width: 900px;
                height: 900px;
            }
        </style>
    </head>
    <body>
        <div id="container" class="container"></div>
        
        <script type="text/javascript"  src="velocity.min.js"></script>
        <script>
            var eContainer = document.getElementById('container');
            
            var eSvg = document.createElementNS('http://www.w3.org/2000/svg', 'svg');
            eSvg.setAttributeNS('http://www.w3.org/2000/svg','xlink','http://www.w3.org/1999/xlink');
            eSvg.setAttributeNS(null, "width", 900);
            eSvg.setAttributeNS(null, "height", 900);
            eSvg.setAttributeNS(null, "viewBox", "-" + 450 + " -" + 450 + " " + 900 + " " + 900 + "");
            eContainer.appendChild(eSvg);
            
            var eDefs = document.createElementNS('http://www.w3.org/2000/svg', 'defs');
            eSvg.appendChild(eDefs);
            
            var svgFilter = document.createElementNS("http://www.w3.org/2000/svg", "filter");
            svgFilter.setAttribute('id', 'Gaussian');
            
            var svgGaussian = document.createElementNS("http://www.w3.org/2000/svg", "feGaussianBlur");
            svgGaussian.setAttribute("stdDeviation", "1");
            svgFilter.appendChild(svgGaussian);

//            var feComponentTransfer = document.createElementNS("http://www.w3.org/2000/svg", "feComponentTransfer");
//            svgFilter.appendChild(feComponentTransfer);
//            
//            var feFuncR = document.createElementNS("http://www.w3.org/2000/svg", "feFuncR");
//            feFuncR.setAttribute("type", "linear");
//            feFuncR.setAttribute("slope", "4");
//            feComponentTransfer.appendChild(feFuncR);
//
//            var feFuncG = document.createElementNS("http://www.w3.org/2000/svg", "feFuncG");
//            feFuncG.setAttribute("type", "linear");
//            feFuncG.setAttribute("slope", "4");
//            feComponentTransfer.appendChild(feFuncG);
//
//            var feFuncB  = document.createElementNS("http://www.w3.org/2000/svg", "feFuncB");
//            feFuncB .setAttribute("type", "linear");
//            feFuncB .setAttribute("slope", "4");
//            feComponentTransfer.appendChild(feFuncB);
            
            eDefs.appendChild(svgFilter);  

            var nRadius = 30;
            var nLength1 = 100;
            var nLength2 = 90;
            var nLength3 = 80;
            var nLength4 = 70;
            var nLength5 = 150;
            var nOffset1 = 4;
            var nOffset2 = 8;
            var nOffset3 = 12;
            var nId = 0;

            var from = new Punt(0, 0);
            var to = new Punt(250, 250);
            
            var nDistance = getDistance(from, to) - 10;
            var angleRadians = Math.atan2(to.y - from.y, to.x - from.x);
            var angleDegrees = angleRadians * 180 / Math.PI;
            
            var svgCircle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
            svgCircle.setAttribute('cx', from.x);
            svgCircle.setAttribute('cy', from.y);
            svgCircle.setAttribute('r', nRadius);
            svgCircle.setAttribute('stroke', 'green');
            svgCircle.setAttribute('stroke-width', '4px');
            svgCircle.setAttribute('fill', 'none');
            eSvg.appendChild(svgCircle);
        
            var svgCenterPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            var sCenterPath = 'M' + parseFloat(from.x + nRadius) + ',' + from.y + ' L' + nDistance + ',' + 0 + '';
            svgCenterPath.setAttribute('d', sCenterPath);
            svgCenterPath.setAttribute('id', "svgCenterPath" + nId);
            svgCenterPath.setAttribute('class', 'test');
            svgCenterPath.setAttribute('stroke', '#44FFFF');
            svgCenterPath.setAttribute('stroke-dasharray', nLength1 + ' 1000');
            svgCenterPath.setAttribute('stroke-dashoffset', nLength1);
            svgCenterPath.setAttribute('stroke-width', '4px');
            svgCenterPath.setAttribute('fill', 'none');
            svgCenterPath.setAttribute('transform', 'rotate(' + angleDegrees + ')');
            svgCenterPath.setAttribute("filter","url(#Gaussian)");
            eSvg.appendChild(svgCenterPath);

            var svgRightPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            var sRightPath = 'M' + parseFloat(from.x + nRadius + 5) + ',' + parseFloat(from.y + nOffset1);
            sRightPath += ' Q' + parseFloat((from.y + nDistance) / 7) + ',' + nDistance / 48;
            sRightPath += ' ' + nDistance + ',' + parseFloat(from.y + nOffset1 / 4);
            svgRightPath.setAttribute('d', sRightPath);
            svgRightPath.setAttribute('id', "svgRightPath" + nId);
            svgRightPath.setAttribute('stroke', '#FF4444');
            svgRightPath.setAttribute('stroke-width', '4px');
            svgRightPath.setAttribute('stroke-dasharray', nLength2 + ' 1000');
            svgRightPath.setAttribute('stroke-dashoffset', nLength2);
            svgRightPath.setAttribute('fill', 'none');
            svgRightPath.setAttribute('transform', 'rotate(' + angleDegrees + ')');
            svgRightPath.setAttribute("filter","url(#Gaussian)");
            eSvg.appendChild(svgRightPath);

            var svgLeftPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            var sLeftPath = 'M' + parseFloat(from.x + nRadius + 5) + ',' + parseFloat(from.y - nOffset1);
            sLeftPath += ' Q' + parseFloat((from.y + nDistance) / 7) + ',-' + nDistance / 48;
            sLeftPath += ' ' + nDistance + ',' + parseFloat(from.y - nOffset1 / 4);
            svgLeftPath.setAttribute('d', sLeftPath);
            svgLeftPath.setAttribute('id', "svgLeftPath" + nId);
            svgLeftPath.setAttribute('stroke', '#FF4444');
            svgLeftPath.setAttribute('stroke-width', '4px');
            svgLeftPath.setAttribute('stroke-dasharray', nLength2 + ' 1000');
            svgLeftPath.setAttribute('stroke-dashoffset', nLength2);
            svgRightPath.setAttribute('fill', 'none');
            svgLeftPath.setAttribute('transform', 'rotate(' + angleDegrees + ')');
            svgLeftPath.setAttribute("filter","url(#Gaussian)");
            eSvg.appendChild(svgLeftPath);

            var svgRightCurve = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            var sRightCurve = 'M' + parseFloat(from.x + nRadius - 2) + ',' + parseFloat(from.y + nOffset2);
            sRightCurve += ' Q' + parseFloat((from.y + nDistance) / 7) + ',' + nDistance / 12;
            sRightCurve += ' ' + nDistance + ',' + parseFloat(from.y + nOffset2 / 4);
            svgRightCurve.setAttribute('d', sRightCurve);
            svgRightCurve.setAttribute('id', "svgRightCurve" + nId);
            svgRightCurve.setAttribute('stroke', '#44FF44');
            svgRightCurve.setAttribute('stroke-width', '4px');
            svgRightCurve.setAttribute('stroke-dasharray', nLength3 + ' 1000');
            svgRightCurve.setAttribute('stroke-dashoffset', nLength3);
            svgRightCurve.setAttribute('fill', 'none');
            svgRightCurve.setAttribute('transform', 'rotate(' + angleDegrees + ')');
            svgRightCurve.setAttribute("filter","url(#Gaussian)");
            eSvg.appendChild(svgRightCurve);

            var svgLeftCurve = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            var sLeftCurve = 'M' + parseFloat(from.x + nRadius - 2) + ',' + parseFloat(from.y - nOffset2);
            sLeftCurve += ' Q' + parseFloat((from.y + nDistance) / 7) + ',-' + nDistance / 12;
            sLeftCurve += ' ' + nDistance + ',' + parseFloat(from.y - nOffset2 / 4);
            svgLeftCurve.setAttribute('d', sLeftCurve);
            svgLeftCurve.setAttribute('id', "svgLeftCurve" + nId);
            svgLeftCurve.setAttribute('stroke', '#44FF44');
            svgLeftCurve.setAttribute('stroke-width', '4px');
            svgLeftCurve.setAttribute('stroke-dasharray', nLength3 + ' 1000');
            svgLeftCurve.setAttribute('stroke-dashoffset', nLength3);
            svgLeftCurve.setAttribute('fill', 'none');
            svgLeftCurve.setAttribute('transform', 'rotate(' + angleDegrees + ')');
            svgLeftCurve.setAttribute("filter","url(#Gaussian)");
            eSvg.appendChild(svgLeftCurve);

            var svgRightFarCurve = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            var sRightFarCurve = 'M' + parseFloat(from.x + nRadius - 4) + ',' + parseFloat(from.y + nOffset3);
            sRightFarCurve += ' Q' + parseFloat((from.y + nDistance) / 7) + ',' + nDistance / 7;
            sRightFarCurve += ' ' + nDistance + ',' + parseFloat(from.y + nOffset3 / 4);
            svgRightFarCurve.setAttribute('d', sRightFarCurve);
            svgRightFarCurve.setAttribute('id', "svgRightFarCurve" + nId);
            svgRightFarCurve.setAttribute('stroke', '#9933FF');
            svgRightFarCurve.setAttribute('stroke-width', '4px');
            svgRightFarCurve.setAttribute('stroke-dasharray', nLength4 + ' 1000');
            svgRightFarCurve.setAttribute('stroke-dashoffset', nLength4);
            svgRightFarCurve.setAttribute('fill', 'none');
            svgRightFarCurve.setAttribute('transform', 'rotate(' + angleDegrees + ')');
            svgRightFarCurve.setAttribute("filter","url(#Gaussian)");
            eSvg.appendChild(svgRightFarCurve);

            var svgLeftFarCurve = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            var sLeftFarCurve = 'M' + parseFloat(from.x + nRadius - 4) + ',' + parseFloat(from.y - nOffset3);
            sLeftFarCurve += ' Q' + parseFloat((from.y + nDistance) / 7) + ',-' + nDistance / 7;
            sLeftFarCurve += ' ' + nDistance + ',' + parseFloat(from.y - nOffset3 / 4);
            svgLeftFarCurve.setAttribute('d', sLeftFarCurve);
            svgLeftFarCurve.setAttribute('id', "svgLeftFarCurve" + nId);
            svgLeftFarCurve.setAttribute('stroke', '#9933FF');
            svgLeftFarCurve.setAttribute('stroke-width', '4px');
            svgLeftFarCurve.setAttribute('stroke-dasharray', nLength4 + ' 1000');
            svgLeftFarCurve.setAttribute('stroke-dashoffset', nLength4);
            svgLeftFarCurve.setAttribute('fill', 'none');
            svgLeftFarCurve.setAttribute('transform', 'rotate(' + angleDegrees + ')');
            svgLeftFarCurve.setAttribute("filter","url(#Gaussian)");
            eSvg.appendChild(svgLeftFarCurve);
            
            var svgRightSine = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            var sRightSine = 'M' + parseFloat(from.x + nRadius) + ',' + from.y;
            sRightSine += ' Q' + parseFloat(from.x + nRadius + nDistance / 16) + ',' + parseFloat(from.y + nDistance / 8);
            sRightSine += ' ' + parseFloat(from.x + nRadius + nDistance * 0.125) + ',' + from.y;
            sRightSine += ' T' + parseFloat(from.x + nRadius + nDistance * 0.25) + ',' + from.y;
            sRightSine += ' T' + parseFloat(from.x + nRadius + nDistance * 0.375) + ',' + from.y;
            sRightSine += ' T' + parseFloat(from.x + nRadius + nDistance * 0.5) + ',' + from.y;
            sRightSine += ' T' + parseFloat(from.x + nRadius + nDistance * 0.625) + ',' + from.y;
            sRightSine += ' T' + parseFloat(from.x + nRadius + nDistance * 0.75) + ',' + from.y;
            sRightSine += ' T' + nDistance + ',' + from.y;
            svgRightSine.setAttribute('d', sRightSine);
            svgRightSine.setAttribute('id', "svgRightSine" + nId);
            svgRightSine.setAttribute('stroke', 'white');
            svgRightSine.setAttribute('stroke-width', '4px');
            svgRightSine.setAttribute('stroke-dasharray', nLength5 + ' 1500');
            svgRightSine.setAttribute('stroke-dashoffset', nLength5);
            svgRightSine.setAttribute('fill', 'none');
            svgRightSine.setAttribute('transform', 'rotate(' + angleDegrees + ')');
            svgRightSine.setAttribute("filter","url(#Gaussian)");
            eSvg.appendChild(svgRightSine);

            var svgLeftSine = document.createElementNS('http://www.w3.org/2000/svg', 'path');
            var sLeftSine = 'M' + parseFloat(from.x + nRadius) + ',' + from.y;
            sLeftSine += ' Q' + parseFloat(from.x + nRadius + nDistance / 16) + ',-' + parseFloat(from.y + nDistance / 8);
            sLeftSine += ' ' + parseFloat(from.x + nRadius + nDistance * 0.125) + ',' + from.y;
            sLeftSine += ' T' + parseFloat(from.x + nRadius + nDistance * 0.25) + ',' + from.y;
            sLeftSine += ' T' + parseFloat(from.x + nRadius + nDistance * 0.375) + ',' + from.y;
            sLeftSine += ' T' + parseFloat(from.x + nRadius + nDistance * 0.5) + ',' + from.y;
            sLeftSine += ' T' + parseFloat(from.x + nRadius + nDistance * 0.625) + ',' + from.y;
            sLeftSine += ' T' + parseFloat(from.x + nRadius + nDistance * 0.75) + ',' + from.y;
            sLeftSine += ' T' + nDistance + ',' + from.y;
            svgLeftSine.setAttribute('d', sLeftSine);
            svgLeftSine.setAttribute('id', "svgLeftSine" + nId);
            svgLeftSine.setAttribute('stroke', 'white');
            svgLeftSine.setAttribute('stroke-width', '4px');
            svgLeftSine.setAttribute('stroke-dasharray', nLength5 + ' 1500');
            svgLeftSine.setAttribute('stroke-dashoffset', nLength5);
            svgLeftSine.setAttribute('fill', 'none');
            svgLeftSine.setAttribute('transform', 'rotate(' + angleDegrees + ')');
            svgLeftSine.setAttribute("filter","url(#Gaussian)");
            eSvg.appendChild(svgLeftSine);

            var nSineLength = svgRightSine.getTotalLength();
            Velocity(document.getElementById("svgCenterPath" + nId), { "stroke-dashoffset": -nDistance }, { duration: 200 });
            Velocity(document.getElementById("svgRightPath" + nId), { "stroke-dashoffset": -nDistance }, { duration: 225 });
            Velocity(document.getElementById("svgLeftPath" + nId), { "stroke-dashoffset": -nDistance }, { duration: 225 });
            Velocity(document.getElementById("svgRightCurve" + nId), { "stroke-dashoffset": -nDistance }, { duration: 175 });
            Velocity(document.getElementById("svgLeftCurve" + nId), { "stroke-dashoffset": -nDistance }, { duration: 175 });
            Velocity(document.getElementById("svgRightFarCurve" + nId), { "stroke-dashoffset": -nDistance }, { duration: 200 });
            Velocity(document.getElementById("svgLeftFarCurve" + nId), { "stroke-dashoffset": -nDistance }, { duration: 200 });
            Velocity(document.getElementById("svgRightSine" + nId), { "stroke-dashoffset": -nSineLength }, { duration: 175 });
            Velocity(document.getElementById("svgLeftSine" + nId), { "stroke-dashoffset": -nSineLength }, { duration: 175 });
    
            function Punt(x, y) {
                this.x = x;
                this.y = y;
            };
            function getDistance(from, to) {
                return Math.sqrt(Math.pow(from.x - to.x, 2) + Math.pow(from.y - to.y, 2));
            };
        </script>
    </body>
</html>
